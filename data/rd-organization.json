{
  "overview": {
    "title": "R&D（Research & Development）",
    "subtitle": "プロダクト開発組織の全体像",
    "description": "SaaS企業のR&D組織は、プロダクトの企画・設計・開発・品質保証・運用までを一貫して担う。アジャイル開発を基盤に、スプリント単位で価値を継続的にデリバリーする。",
    "headcountRatio": "SaaS企業全体の40-50%がR&D人員",
    "costStructure": {
      "label": "R&Dコスト構成",
      "items": [
        { "category": "人件費", "ratio": "70-80%", "detail": "エンジニア・デザイナー・PdM給与" },
        { "category": "インフラ費", "ratio": "10-15%", "detail": "AWS/GCP、CI/CD、監視ツール" },
        { "category": "ツール・ライセンス", "ratio": "5-10%", "detail": "GitHub, Jira, Figma, Datadog等" },
        { "category": "外注・業務委託", "ratio": "5-10%", "detail": "専門領域の外部パートナー" }
      ]
    },
    "keyMetrics": [
      { "name": "デプロイ頻度", "target": "週5回以上", "elite": "オンデマンド（1日複数回）" },
      { "name": "リードタイム", "target": "1日〜1週間", "elite": "1時間以内" },
      { "name": "変更失敗率", "target": "15%以下", "elite": "5%以下" },
      { "name": "復旧時間（MTTR）", "target": "1日以内", "elite": "1時間以内" }
    ]
  },
  "agile": {
    "title": "アジャイル開発プロセス",
    "description": "スクラムフレームワークを採用し、2週間スプリントで反復的にプロダクトを改善する。",
    "sprintCycle": {
      "duration": "2週間（10営業日）",
      "ceremonies": [
        {
          "name": "スプリントプランニング",
          "timing": "スプリント初日（月曜AM）",
          "duration": "2-4時間",
          "participants": ["PO", "SM", "Dev Team"],
          "purpose": "スプリントゴール設定、バックログからアイテム選択、タスク分解",
          "outputs": ["スプリントゴール", "スプリントバックログ", "見積もり（SP）"],
          "tips": [
            "ベロシティ実績に基づいてキャパシティを決定",
            "不確実性の高いアイテムはスパイク（技術調査）チケットに",
            "バッファとして10-20%の余裕を持たせる"
          ]
        },
        {
          "name": "デイリースクラム",
          "timing": "毎朝（10:00-10:15）",
          "duration": "15分厳守",
          "participants": ["Dev Team", "SM"],
          "purpose": "進捗共有、障害の早期発見、チーム同期",
          "format": [
            "昨日やったこと",
            "今日やること",
            "困っていること（ブロッカー）"
          ],
          "tips": [
            "報告会ではなくチーム内同期の場",
            "詳細な議論はパーキングロットへ",
            "立って行う（Stand-up）ことで時間意識を高める"
          ]
        },
        {
          "name": "スプリントレビュー",
          "timing": "スプリント最終日（金曜PM）",
          "duration": "1-2時間",
          "participants": ["PO", "SM", "Dev Team", "ステークホルダー"],
          "purpose": "成果物デモ、フィードバック取得、バックログ調整",
          "outputs": ["デモ結果", "フィードバック一覧", "バックログ更新"],
          "tips": [
            "動くソフトウェアをデモすること（スライド禁止）",
            "ステークホルダーからのフィードバックを必ず収集",
            "次スプリントの方向性を合意"
          ]
        },
        {
          "name": "レトロスペクティブ",
          "timing": "スプリント最終日（レビュー後）",
          "duration": "1-1.5時間",
          "participants": ["SM", "Dev Team"],
          "purpose": "プロセス改善、チーム健全性の維持",
          "format": "KPT（Keep / Problem / Try）",
          "outputs": ["改善アクション（次スプリントで実行）"],
          "tips": [
            "心理的安全性を確保（blame-freeの原則）",
            "前回のTryの振り返りから始める",
            "アクションは具体的・担当者明確・次スプリントで実行可能なもの"
          ]
        },
        {
          "name": "バックログリファインメント",
          "timing": "スプリント中盤（水曜PM）",
          "duration": "1-2時間",
          "participants": ["PO", "Dev Team"],
          "purpose": "次スプリント以降のアイテム準備、見積もり、受入条件明確化",
          "outputs": ["リファインされたバックログ", "見積もり済みアイテム"],
          "tips": [
            "スプリント工数の10%をリファインメントに充てる",
            "Definition of Ready を満たすまで磨く",
            "プランニングポーカーで見積もり合意"
          ]
        }
      ]
    },
    "roles": [
      {
        "name": "プロダクトオーナー（PO）",
        "responsibility": "プロダクトの価値最大化",
        "tasks": ["バックログ優先順位付け", "ステークホルダー調整", "受入条件定義", "ROI判断"],
        "ratio": "チームに1名"
      },
      {
        "name": "スクラムマスター（SM）",
        "responsibility": "プロセス改善・障害除去",
        "tasks": ["セレモニーのファシリテーション", "チーム外との調整", "プロセス改善提案", "メトリクス計測"],
        "ratio": "1-2チームに1名"
      },
      {
        "name": "開発チーム（Dev Team）",
        "responsibility": "インクリメントのデリバリー",
        "tasks": ["設計・実装・テスト", "コードレビュー", "技術的意思決定", "見積もり"],
        "ratio": "5-9名/チーム"
      }
    ],
    "artifacts": [
      { "name": "プロダクトバックログ", "owner": "PO", "description": "全要求事項の優先順位付きリスト" },
      { "name": "スプリントバックログ", "owner": "Dev Team", "description": "今スプリントで実行するアイテム＋タスク" },
      { "name": "インクリメント", "owner": "Dev Team", "description": "動くソフトウェア（Definition of Done達成済み）" }
    ]
  },
  "developmentFlow": {
    "title": "開発フロー（企画〜リリース）",
    "description": "アイデアから本番デプロイまでの一連のプロセス。各フェーズで適切なアウトプットを生成する。",
    "phases": [
      {
        "id": 1,
        "name": "調査・ディスカバリー",
        "englishName": "Discovery",
        "duration": "1-2週間",
        "owner": "PdM / UXリサーチャー",
        "description": "課題の発見と検証。定量・定性データから機会を特定する。",
        "activities": [
          "ユーザーインタビュー（5-8名）",
          "定量データ分析（GA4, Mixpanel等）",
          "競合調査・ベンチマーク",
          "ペインポイント整理",
          "仮説構築（HMW: How Might We）"
        ],
        "outputs": ["ディスカバリーレポート", "ユーザーペルソナ", "ジャーニーマップ"],
        "tools": ["Miro", "Notion", "Google Analytics", "Hotjar"],
        "bestPractices": [
          "ユーザーインタビューは最低5名実施し飽和点を確認する",
          "定量データと定性データを必ず両方収集する",
          "仮説を先に立ててから検証する（HMW形式）",
          "バイアスを排除するため複数名でインタビュー分析を行う"
        ],
        "antiPatterns": [
          "ソリューションありきでリサーチを開始する",
          "自社都合の仮説に合うデータだけを集める（確証バイアス）",
          "インタビュー2-3名で打ち切り早期に結論を出す",
          "競合調査を省略しマーケット理解が浅いまま進む"
        ],
        "gateConditions": [
          "ペルソナが最低1つ定義済み",
          "3つ以上のペインポイントが定量的に検証済み",
          "HMW形式の仮説が言語化済み",
          "ステークホルダーへのレポート共有完了"
        ]
      },
      {
        "id": 2,
        "name": "要件定義",
        "englishName": "Requirements Definition",
        "duration": "1-2週間",
        "owner": "PdM",
        "description": "ビジネス要件と機能要件を明確化し、スコープを決定する。",
        "activities": [
          "ビジネス要件の文書化",
          "機能要件・非機能要件の整理",
          "スコープ定義（MVP vs Full）",
          "優先順位付け（RICE / MoSCoW）",
          "ステークホルダーレビュー"
        ],
        "outputs": ["要件定義書", "スコープドキュメント", "優先順位マトリクス"],
        "tools": ["Notion", "Confluence", "Google Docs"],
        "bestPractices": [
          "MVPスコープを明確に線引きし、全部盛りを避ける",
          "非機能要件（性能・セキュリティ）を初期から定義する",
          "RICE/MoSCoWで優先順位を数値化し属人判断を排除する",
          "ステークホルダー全員でレビュー会を開催し合意を取る"
        ],
        "antiPatterns": [
          "全機能を一括スコープに入れ、MVPが肥大化する",
          "非機能要件を後回しにし、リリース直前にボトルネック化",
          "口頭合意のみで要件定義書を作成しない",
          "ビジネス要件とユーザー要件を混同する"
        ],
        "gateConditions": [
          "要件定義書がステークホルダーの承認済み",
          "MVPスコープが明確に定義・合意済み",
          "優先順位マトリクスが作成・共有済み",
          "非機能要件が一覧化されている"
        ]
      },
      {
        "id": 3,
        "name": "ユーザーストーリーマッピング（USM）",
        "englishName": "User Story Mapping",
        "duration": "2-3日",
        "owner": "PdM / Dev Team",
        "description": "ユーザーの行動フローを横軸に、ストーリーの詳細度を縦軸にマッピングする。リリース単位の切り方を視覚的に合意する。",
        "structure": {
          "backbone": "ユーザーアクティビティ（大きな行動単位）",
          "walkingSkeleton": "必須ストーリー（MVP）",
          "releases": ["Release 1（MVP）", "Release 2（追加機能）", "Release 3（最適化）"]
        },
        "activities": [
          "ペルソナのゴール確認",
          "バックボーン（主要アクティビティ）の洗い出し",
          "各アクティビティのユーザーストーリー分解",
          "リリース単位の水平線引き",
          "MVP（Walking Skeleton）の合意"
        ],
        "outputs": ["ユーザーストーリーマップ", "リリースプラン", "MVP定義"],
        "tools": ["Miro", "StoriesOnBoard", "付箋（オフライン）"],
        "bestPractices": [
          "ペルソナのゴールから逆算してバックボーンを作成する",
          "Walking Skeleton（MVP）は1-2スプリントでデリバリー可能な単位にする",
          "リリース単位は技術都合ではなく顧客価値で切る",
          "チーム全員（PdM・デザイナー・エンジニア）で作成する"
        ],
        "antiPatterns": [
          "技術タスク視点でストーリーを分解してしまう",
          "MVPに必須でない機能（nice-to-have）を含めすぎる",
          "PdMだけでマップを作成し、チームの合意を得ない",
          "ストーリーの粒度が大きすぎてスプリントに収まらない"
        ],
        "gateConditions": [
          "MVPの範囲がチーム全員で合意済み",
          "各リリースの顧客価値が明文化済み",
          "全ストーリーがスプリントに収まるサイズに分解済み"
        ]
      },
      {
        "id": 4,
        "name": "BPMN図（業務プロセスモデリング）",
        "englishName": "Business Process Modeling",
        "duration": "2-3日",
        "owner": "PdM / 業務コンサルタント",
        "description": "現行業務プロセス（As-Is）と改善後プロセス（To-Be）をBPMN 2.0で可視化する。システム化範囲を明確にする。",
        "elements": [
          { "symbol": "○", "name": "開始/終了イベント", "description": "プロセスの始点と終点" },
          { "symbol": "□", "name": "タスク", "description": "具体的な作業単位" },
          { "symbol": "◇", "name": "ゲートウェイ", "description": "分岐・合流（排他/並列/包含）" },
          { "symbol": "→", "name": "シーケンスフロー", "description": "処理の流れ" },
          { "symbol": "⊞", "name": "レーン/プール", "description": "担当者・部門の区分" }
        ],
        "activities": [
          "As-Is（現行プロセス）のヒアリング・図示",
          "ボトルネック・ムダの特定",
          "To-Be（改善プロセス）の設計",
          "システム化範囲の明確化（人手 vs 自動化）",
          "ステークホルダーレビュー・合意"
        ],
        "outputs": ["As-Is BPMN図", "To-Be BPMN図", "システム化範囲定義書"],
        "tools": ["Lucidchart", "draw.io", "Camunda Modeler"],
        "bestPractices": [
          "必ずAs-Is（現行）を先に描き、To-Be（改善後）はその差分として設計する",
          "現場担当者へのヒアリングを基にし、想像で描かない",
          "自動化範囲と人手作業の境界を明確にする",
          "例外パターン（エラー、差し戻し）も漏れなく図示する"
        ],
        "antiPatterns": [
          "As-Isを省略してTo-Beから描き始める",
          "ハッピーパスのみを図示し例外処理を無視する",
          "粒度が粗すぎてシステム実装の参考にならない",
          "現場とエンジニア間でBPMNの解釈がずれたまま進む"
        ],
        "gateConditions": [
          "As-Is / To-Be の BPMN図が完成・レビュー済み",
          "システム化範囲が明確に定義されている",
          "現場担当者とエンジニアの合意が取れている"
        ]
      },
      {
        "id": 5,
        "name": "PRD（プロダクト要求仕様書）",
        "englishName": "Product Requirements Document",
        "duration": "3-5日",
        "owner": "PdM",
        "description": "開発チームが実装に着手できるレベルまで要求を具体化した文書。Why / What / Howを網羅する。",
        "sections": [
          { "name": "概要・背景", "content": "なぜこの機能が必要か、ビジネスインパクト" },
          { "name": "ゴール・KPI", "content": "成功指標（DAU, CVR, NPS等）の定量目標" },
          { "name": "ユーザーストーリー", "content": "As a [who], I want [what], So that [why]" },
          { "name": "機能要件", "content": "画面仕様、入出力、バリデーションルール" },
          { "name": "非機能要件", "content": "性能, セキュリティ, アクセシビリティ" },
          { "name": "画面モックアップ", "content": "Figmaリンク、ワイヤーフレーム" },
          { "name": "技術的考慮事項", "content": "API設計方針、データモデル、依存関係" },
          { "name": "リリース計画", "content": "フェーズ分割、スケジュール、ロールアウト戦略" },
          { "name": "リスク・制約", "content": "技術的リスク、法規制、依存タスク" }
        ],
        "outputs": ["PRD文書", "Figmaモック", "API設計書（Draft）"],
        "tools": ["Notion", "Figma", "Google Docs"],
        "bestPractices": [
          "Why（なぜ作るか）を最初に書き、What/Howはその後に展開する",
          "成功指標（KPI）を定量的に定義し、リリース後の効果測定を可能にする",
          "Figmaモックは必ず添付し、テキストだけの仕様を避ける",
          "エンジニアにドラフト段階でレビューを依頼し、技術的実現性を確認する"
        ],
        "antiPatterns": [
          "How（実装方法）から書き始め、Whyが曖昧なまま進む",
          "PRDが100ページを超える大作になり誰も読まない",
          "デザイナー・エンジニア不在でPdMだけが作成する",
          "成功指標が定性的（ユーザー満足度向上）のみで定量化されていない"
        ],
        "gateConditions": [
          "PRD文書が完成しエンジニアリングレビュー済み",
          "Figmaモックアップが主要画面分作成済み",
          "成功KPIが定量的に定義済み",
          "技術的リスクが洗い出し済み"
        ]
      },
      {
        "id": 6,
        "name": "設計",
        "englishName": "Design & Architecture",
        "duration": "3-5日",
        "owner": "テックリード / シニアエンジニア",
        "description": "システムアーキテクチャ、API設計、DB設計を行い、実装の指針を定める。",
        "activities": [
          "システム構成図（アーキテクチャ図）作成",
          "API設計（OpenAPI / GraphQLスキーマ）",
          "DB設計（ERD、マイグレーション計画）",
          "技術選定・PoC（必要に応じて）",
          "設計レビュー（ADR: Architecture Decision Record）"
        ],
        "outputs": ["アーキテクチャ図", "API仕様書", "ER図", "ADR"],
        "tools": ["draw.io", "dbdiagram.io", "Swagger", "GitHub"],
        "bestPractices": [
          "ADR（Architecture Decision Record）で設計判断の根拠を記録する",
          "API設計はOpenAPI/GraphQLスキーマで機械可読な仕様書を作成する",
          "PoCやスパイクで技術的不確実性を事前に解消する",
          "過剰設計を避け、現在の要件に必要十分な設計にする（YAGNI原則）"
        ],
        "antiPatterns": [
          "設計レビューを省略し、実装後に根本的な設計変更が発生する",
          "「将来使うかもしれない」で過剰に汎用化する",
          "ER図なしでテーブル設計を進め、正規化が崩れる",
          "技術選定の根拠を記録せず、後任が判断理由を追えない"
        ],
        "gateConditions": [
          "アーキテクチャ図がチームレビュー済み",
          "API仕様書（OpenAPI/GraphQL Schema）が完成",
          "ER図とマイグレーション計画が作成済み",
          "ADRで主要な設計判断が記録済み"
        ]
      },
      {
        "id": 7,
        "name": "実装",
        "englishName": "Implementation",
        "duration": "スプリント単位（2週間×n）",
        "owner": "Dev Team",
        "description": "設計に基づきコーディング・ユニットテストを実施。CI/CDパイプラインで継続的にインテグレーション。",
        "activities": [
          "フィーチャーブランチでの開発",
          "ユニットテスト・インテグレーションテスト作成",
          "プルリクエスト・コードレビュー",
          "CI（自動テスト・Lint・型チェック）通過",
          "ステージング環境へのデプロイ"
        ],
        "practices": [
          { "name": "ブランチ戦略", "detail": "GitHub Flow（main + feature branches）" },
          { "name": "コードレビュー", "detail": "PR必須、Approve 2名以上、自動チェック通過" },
          { "name": "テスト", "detail": "ユニット80%+ / インテグレーション / E2E" },
          { "name": "CI/CD", "detail": "GitHub Actions → ステージング自動デプロイ" }
        ],
        "outputs": ["動くコード", "テストスイート", "CI/CDパイプライン"],
        "tools": ["VS Code", "GitHub", "GitHub Actions", "Docker"],
        "bestPractices": [
          "フィーチャーブランチは短命に保つ（2-3日以内にマージ）",
          "PRは200行以内を目安にし、レビュー負荷を下げる",
          "テストを先に書く（TDD）か、最低限実装と同時に書く",
          "CI通過を必須にし、壊れたmainブランチを許容しない"
        ],
        "antiPatterns": [
          "大量の変更を1つのPRにまとめる（Big Bang PR）",
          "テストなしでマージし、リグレッションが頻発する",
          "コードレビューが形骸化し、Approveが即座に押される",
          "ローカルでしか動かない（CI未設定、環境依存が残る）"
        ],
        "gateConditions": [
          "全てのCIチェック（テスト・Lint・型チェック）がパス",
          "コードレビューで2名以上のApprove取得",
          "テストカバレッジが基準値以上（ユニット80%+）",
          "ステージング環境で動作確認済み"
        ]
      },
      {
        "id": 8,
        "name": "QA・テスト",
        "englishName": "Quality Assurance",
        "duration": "3-5日",
        "owner": "QAエンジニア",
        "description": "品質ゲートを通過させるための総合テスト。自動テストと手動テストを組み合わせる。",
        "activities": [
          "テスト計画書作成",
          "テストケース作成・実行",
          "探索的テスト（Exploratory Testing）",
          "パフォーマンステスト（k6, Lighthouse）",
          "セキュリティテスト（OWASP Top 10）",
          "バグ報告・修正・再テスト"
        ],
        "outputs": ["テスト結果レポート", "バグチケット", "品質メトリクス"],
        "tools": ["Playwright", "Jest", "k6", "Lighthouse", "OWASP ZAP"],
        "bestPractices": [
          "テストピラミッドを意識し、ユニット→インテグレーション→E2Eのバランスを保つ",
          "探索的テストで自動テストでは発見しにくいバグを炙り出す",
          "リリースブロッカーの基準（Severity / Priority）を事前に明確化する",
          "パフォーマンステストは本番相当のデータ量で実施する"
        ],
        "antiPatterns": [
          "E2Eテストだけに依存し、フィードバックループが遅い",
          "テストケースのメンテナンスを怠り、フレーキーテストが増殖する",
          "QAが開発終了後にのみ参加し、手戻りが大量発生する",
          "セキュリティテストをリリース直前まで実施しない"
        ],
        "gateConditions": [
          "全テストケースの実行完了（パス率95%以上）",
          "Severity: Criticalのバグが0件",
          "パフォーマンステスト基準値クリア（p95レスポンス < 200ms）",
          "セキュリティテスト（OWASP Top 10）で重大脆弱性0件"
        ]
      },
      {
        "id": 9,
        "name": "リリース・デプロイ",
        "englishName": "Release & Deploy",
        "duration": "1日",
        "owner": "SRE / DevOps",
        "description": "本番環境へのデプロイ。段階的ロールアウトとモニタリングで安全にリリースする。",
        "activities": [
          "リリースノート作成",
          "本番デプロイ（Blue-Green or カナリア）",
          "フィーチャーフラグ管理",
          "ロールバック手順の確認",
          "モニタリング・アラート監視"
        ],
        "strategies": [
          { "name": "Blue-Green", "description": "2環境切り替えによるゼロダウンタイムデプロイ", "risk": "低" },
          { "name": "カナリアリリース", "description": "全体の5-10%にまずリリースし、問題なければ拡大", "risk": "最低" },
          { "name": "フィーチャーフラグ", "description": "コードはデプロイ済み、フラグで機能のON/OFFを制御", "risk": "低" }
        ],
        "outputs": ["リリースノート", "デプロイ完了報告", "モニタリングダッシュボード"],
        "tools": ["AWS CodeDeploy", "LaunchDarkly", "Datadog", "PagerDuty"],
        "bestPractices": [
          "カナリアリリースで段階的にトラフィックを移行する（5%→25%→100%）",
          "ロールバック手順を事前にテスト・文書化しておく",
          "デプロイ直後の15分間はモニタリングダッシュボードを監視する",
          "フィーチャーフラグでリリースとデプロイを分離する"
        ],
        "antiPatterns": [
          "金曜夕方にデプロイする（問題発生時に週末対応が必要になる）",
          "ロールバック手順を確認せずにデプロイする",
          "全ユーザーに一斉リリースし、障害時の影響範囲が最大になる",
          "リリースノートを書かず、CSやサポートが把握できない"
        ],
        "gateConditions": [
          "QAフェーズのゲート条件を全てクリア済み",
          "リリースノートが作成・レビュー済み",
          "ロールバック手順が文書化・テスト済み",
          "オンコール体制が確保されている"
        ]
      }
    ]
  },
  "engineeringRoles": {
    "title": "エンジニアリング職種",
    "description": "SaaS開発に必要な主要エンジニアリング職種と、それぞれの専門領域・技術スタック・日常業務。",
    "roles": [
      {
        "name": "フロントエンドエンジニア",
        "icon": "Monitor",
        "color": "#3B82F6",
        "description": "ユーザーが直接触れるUI/UXを構築する。パフォーマンスとアクセシビリティを両立させる。",
        "techStack": {
          "language": ["TypeScript", "JavaScript"],
          "framework": ["React", "Next.js", "Vue.js"],
          "styling": ["Tailwind CSS", "CSS Modules", "Styled Components"],
          "stateManagement": ["Zustand", "Jotai", "React Query"],
          "testing": ["Jest", "React Testing Library", "Playwright", "Storybook"],
          "build": ["Vite", "webpack", "Turbopack"]
        },
        "dailyTasks": [
          "UIコンポーネント実装・Storybookカタログ更新",
          "API連携（REST / GraphQL）とデータバインディング",
          "レスポンシブデザイン対応（モバイル↔デスクトップ）",
          "パフォーマンス最適化（Lighthouse 90+目標）",
          "コードレビュー（PR レビュー 2-3件/日）",
          "デザイナーとのUI調整（Figma⇔実装の差分解消）"
        ],
        "kpis": [
          { "name": "Lighthouse Score", "target": "90+" },
          { "name": "Core Web Vitals (LCP)", "target": "< 2.5s" },
          { "name": "コンポーネントカバレッジ", "target": "80%+" },
          { "name": "バンドルサイズ増加率", "target": "< 5%/月" }
        ],
        "salaryRange": {
          "junior": "400-550万円",
          "mid": "550-750万円",
          "senior": "750-1,000万円",
          "lead": "1,000-1,300万円"
        },
        "headcountGuide": "Seed: 1-2名, Series A: 2-5名, Series B: 5-10名, Growth: 10-20名"
      },
      {
        "name": "バックエンドエンジニア",
        "icon": "Server",
        "color": "#10B981",
        "description": "ビジネスロジック、API設計、データベース設計を担う。スケーラビリティとセキュリティが最重要。",
        "techStack": {
          "language": ["Go", "Python", "TypeScript (Node.js)", "Java/Kotlin"],
          "framework": ["Gin", "FastAPI", "NestJS", "Spring Boot"],
          "database": ["PostgreSQL", "MySQL", "Redis", "DynamoDB"],
          "messageQueue": ["SQS", "Kafka", "RabbitMQ"],
          "api": ["REST (OpenAPI)", "GraphQL", "gRPC"],
          "testing": ["Go test", "pytest", "JUnit"]
        },
        "dailyTasks": [
          "API設計・実装（エンドポイント追加・修正）",
          "DBマイグレーション・クエリ最適化",
          "ビジネスロジック実装・ドメインモデリング",
          "API テスト・負荷テスト",
          "セキュリティ対策（認証・認可・入力検証）",
          "コードレビュー・設計レビュー参加"
        ],
        "kpis": [
          { "name": "API レスポンスタイム (p95)", "target": "< 200ms" },
          { "name": "API可用性", "target": "99.9%+" },
          { "name": "テストカバレッジ", "target": "85%+" },
          { "name": "セキュリティ脆弱性", "target": "Critical: 0" }
        ],
        "salaryRange": {
          "junior": "450-600万円",
          "mid": "600-850万円",
          "senior": "850-1,200万円",
          "lead": "1,200-1,500万円"
        },
        "headcountGuide": "Seed: 1-2名, Series A: 3-6名, Series B: 6-15名, Growth: 15-30名"
      },
      {
        "name": "QAエンジニア",
        "icon": "ShieldCheck",
        "color": "#F59E0B",
        "description": "プロダクト品質の番人。テスト戦略の策定から自動化まで、品質を多角的に担保する。",
        "techStack": {
          "automation": ["Playwright", "Cypress", "Selenium"],
          "apiTesting": ["Postman", "REST Assured", "k6"],
          "performance": ["k6", "JMeter", "Lighthouse"],
          "security": ["OWASP ZAP", "Burp Suite"],
          "management": ["TestRail", "Zephyr", "Qase"],
          "ci": ["GitHub Actions", "Jenkins"]
        },
        "dailyTasks": [
          "テストケース設計・レビュー",
          "手動テスト実行（新機能・リグレッション）",
          "E2Eテスト自動化スクリプト作成・保守",
          "バグ報告・再現手順の文書化",
          "テストカバレッジ分析・品質メトリクスレポート",
          "開発チームとの品質基準すり合わせ"
        ],
        "kpis": [
          { "name": "バグ検出率（本番前）", "target": "95%+" },
          { "name": "E2Eテスト自動化率", "target": "70%+" },
          { "name": "リグレッションバグ件数", "target": "< 3件/スプリント" },
          { "name": "テスト実行時間", "target": "< 30分（CI）" }
        ],
        "salaryRange": {
          "junior": "400-550万円",
          "mid": "550-750万円",
          "senior": "750-1,000万円",
          "lead": "1,000-1,300万円"
        },
        "headcountGuide": "Seed: 0名（開発者が兼務）, Series A: 1-2名, Series B: 2-5名, Growth: 5-10名"
      },
      {
        "name": "インフラ / SREエンジニア",
        "icon": "Cloud",
        "color": "#8B5CF6",
        "description": "サービスの信頼性・スケーラビリティ・セキュリティを担保するインフラストラクチャを設計・運用する。",
        "techStack": {
          "cloud": ["AWS", "GCP", "Azure"],
          "iac": ["Terraform", "AWS CDK", "Pulumi"],
          "container": ["Docker", "Kubernetes (EKS)", "ECS Fargate"],
          "cicd": ["GitHub Actions", "AWS CodePipeline", "ArgoCD"],
          "monitoring": ["Datadog", "CloudWatch", "Grafana", "PagerDuty"],
          "security": ["AWS IAM", "GuardDuty", "WAF", "Vault"]
        },
        "dailyTasks": [
          "インフラ監視・アラート対応",
          "IaCによるインフラ構成管理",
          "CI/CDパイプライン構築・改善",
          "コスト最適化（Reserved Instance, Savings Plans）",
          "セキュリティパッチ適用・脆弱性対応",
          "障害対応・ポストモーテム作成"
        ],
        "kpis": [
          { "name": "サービス稼働率（SLA）", "target": "99.95%+" },
          { "name": "MTTR（平均復旧時間）", "target": "< 30分" },
          { "name": "インフラコスト/売上比率", "target": "< 15%" },
          { "name": "デプロイ成功率", "target": "99%+" }
        ],
        "salaryRange": {
          "junior": "500-700万円",
          "mid": "700-1,000万円",
          "senior": "1,000-1,400万円",
          "lead": "1,400-1,800万円"
        },
        "headcountGuide": "Seed: 0-1名（バックエンドが兼務）, Series A: 1-2名, Series B: 2-5名, Growth: 5-15名"
      }
    ]
  },
  "architecture": {
    "title": "アーキテクチャ設計",
    "description": "SaaS プロダクトの典型的なシステム構成。AWS を中心としたクラウドネイティブアーキテクチャ。",
    "patterns": [
      {
        "name": "モノリス → モジュラーモノリス",
        "phase": "初期〜Series A",
        "description": "単一アプリケーションで素早くMVPを構築。モジュール境界を意識して将来の分離に備える。",
        "pros": ["開発速度が速い", "運用が簡単", "チーム間調整が少ない"],
        "cons": ["スケール限界がある", "デプロイが全体影響", "技術的負債が蓄積しやすい"],
        "bestFor": "エンジニア10名以下、PMF探索フェーズ"
      },
      {
        "name": "マイクロサービス",
        "phase": "Series B〜",
        "description": "ドメイン境界に沿ってサービスを分割。独立してデプロイ・スケール可能にする。",
        "pros": ["独立デプロイ", "技術選定の自由度", "チーム自律性"],
        "cons": ["運用複雑性", "分散トランザクション", "ネットワーク障害リスク"],
        "bestFor": "エンジニア30名以上、明確なドメイン境界がある"
      }
    ],
    "awsArchitecture": {
      "title": "AWS 構成例（SaaS プロダクト）",
      "layers": [
        {
          "name": "CDN / Edge",
          "services": [
            { "service": "CloudFront", "purpose": "静的アセット配信・APIキャッシュ", "icon": "🌐" },
            { "service": "Route 53", "purpose": "DNS管理・ヘルスチェック", "icon": "🔗" },
            { "service": "WAF", "purpose": "Webアプリケーションファイアウォール", "icon": "🛡️" }
          ]
        },
        {
          "name": "コンピュート",
          "services": [
            { "service": "ECS Fargate", "purpose": "コンテナ実行環境（サーバーレス）", "icon": "📦" },
            { "service": "Lambda", "purpose": "イベント駆動処理・バッチ", "icon": "⚡" },
            { "service": "ALB", "purpose": "ロードバランシング・SSL終端", "icon": "⚖️" }
          ]
        },
        {
          "name": "データ",
          "services": [
            { "service": "RDS (Aurora PostgreSQL)", "purpose": "メインDB（マルチAZ）", "icon": "🗄️" },
            { "service": "ElastiCache (Redis)", "purpose": "セッション・キャッシュ", "icon": "⚡" },
            { "service": "S3", "purpose": "ファイルストレージ・バックアップ", "icon": "📁" },
            { "service": "DynamoDB", "purpose": "高スループット Key-Value", "icon": "🔑" }
          ]
        },
        {
          "name": "メッセージング / 非同期",
          "services": [
            { "service": "SQS", "purpose": "メッセージキュー（非同期処理）", "icon": "📨" },
            { "service": "SNS", "purpose": "Pub/Sub通知", "icon": "📢" },
            { "service": "EventBridge", "purpose": "イベントバス（サービス間連携）", "icon": "🔀" }
          ]
        },
        {
          "name": "監視 / セキュリティ",
          "services": [
            { "service": "CloudWatch", "purpose": "メトリクス・ログ・アラート", "icon": "📊" },
            { "service": "X-Ray", "purpose": "分散トレーシング", "icon": "🔍" },
            { "service": "GuardDuty", "purpose": "脅威検出", "icon": "🔒" },
            { "service": "Secrets Manager", "purpose": "シークレット管理", "icon": "🔐" }
          ]
        },
        {
          "name": "CI/CD",
          "services": [
            { "service": "CodePipeline", "purpose": "デプロイパイプライン", "icon": "🔄" },
            { "service": "ECR", "purpose": "コンテナレジストリ", "icon": "🐳" },
            { "service": "CodeBuild", "purpose": "ビルド環境", "icon": "🏗️" }
          ]
        }
      ],
      "costOptimization": [
        { "strategy": "Reserved Instances / Savings Plans", "saving": "最大72%削減", "target": "RDS, ElastiCache" },
        { "strategy": "Fargate Spot", "saving": "最大70%削減", "target": "非クリティカルなバッチ処理" },
        { "strategy": "S3 Intelligent-Tiering", "saving": "最大40%削減", "target": "アクセス頻度が変動するオブジェクト" },
        { "strategy": "Auto Scaling", "saving": "需要に応じて最適化", "target": "ECS タスク数" }
      ]
    },
    "securityLayers": [
      { "layer": "ネットワーク", "measures": ["VPC分離", "Security Group", "NACLs", "PrivateLink"] },
      { "layer": "アプリケーション", "measures": ["WAF", "CORS設定", "CSP", "入力バリデーション"] },
      { "layer": "データ", "measures": ["暗号化（AES-256）", "TLS 1.3", "KMS鍵管理", "データマスキング"] },
      { "layer": "認証・認可", "measures": ["OAuth 2.0 / OIDC", "MFA", "RBAC", "JWTトークン管理"] },
      { "layer": "監査", "measures": ["CloudTrail", "アクセスログ", "変更履歴", "SOC2対応"] }
    ]
  },
  "techArchitecture": {
    "title": "SaaS技術アーキテクチャ",
    "subtitle": "SaaSを支える技術基盤。マルチテナンシー、API設計、セキュリティ認証、インフラ、CI/CDを網羅。",
    "multiTenancy": {
      "title": "マルチテナンシー",
      "description": "1つのアプリケーションインスタンスで複数の顧客（テナント）にサービスを提供する設計パターン。SaaSのコスト効率の源泉。",
      "patterns": [
        {
          "name": "共有DB・共有スキーマ",
          "nameEn": "Shared Database, Shared Schema",
          "color": "#3B82F6",
          "description": "全テナントが1つのDBの同じテーブルを共有。tenant_idカラムでデータを分離。最もコスト効率が高いが、データ分離が弱い。",
          "pros": ["最もコスト効率が高い（DB1つ）", "スキーマ変更が容易", "テナント数のスケールが容易"],
          "cons": ["データ分離が弱い（漏洩リスク）", "大規模テナントがDBパフォーマンスに影響", "テナント別のバックアップが困難"],
          "bestFor": "SMB向け、テナント数が多い、データ量が少ないSaaS",
          "examples": ["Slack", "HubSpot", "カイポケ"]
        },
        {
          "name": "共有DB・分離スキーマ",
          "nameEn": "Shared Database, Separate Schema",
          "color": "#8B5CF6",
          "description": "1つのDBサーバー内でテナントごとにスキーマを分離。PostgreSQLのスキーマ機能等を活用。中間的なバランス。",
          "pros": ["データ分離が強い", "テナント別のカスタマイズが可能", "バックアップ・復元が容易"],
          "cons": ["スキーマ変更の影響範囲が大きい", "テナント数が増えると管理が複雑", "DBサーバーのリソース制約"],
          "bestFor": "中規模テナント、カスタマイズ要求がある場合",
          "examples": ["Salesforce（一部）", "ServiceNow"]
        },
        {
          "name": "分離DB",
          "nameEn": "Separate Database per Tenant",
          "color": "#F59E0B",
          "description": "テナントごとに独立したDBを持つ。データ分離が最も強い。エンタープライズ顧客のコンプライアンス要件に対応。",
          "pros": ["完全なデータ分離", "テナント別の性能保証", "規制対応（データ居住地要件）が容易"],
          "cons": ["コストが最も高い", "運用管理が複雑", "スケーリングが困難"],
          "bestFor": "エンタープライズ向け、金融・医療等の規制産業",
          "examples": ["Workday", "SAP（一部）"]
        }
      ]
    },
    "apiEconomy": {
      "title": "API & インテグレーション経済圏",
      "description": "APIはSaaSの拡張性とエコシステムの基盤。REST、GraphQL、Webhookの使い分けと、iPaaS連携の戦略。",
      "apiTypes": [
        {
          "name": "REST API",
          "color": "#3B82F6",
          "description": "最も標準的なAPI設計。HTTPメソッド（GET/POST/PUT/DELETE）でリソースを操作。シンプルで広く普及。",
          "bestFor": "標準的なCRUD操作、外部連携、モバイルアプリ",
          "benchmark": "SaaS標準。99.9% SLAが一般的。レイテンシ目標: 200ms以下。"
        },
        {
          "name": "GraphQL",
          "color": "#E10098",
          "description": "クライアントが必要なデータだけを指定して取得。オーバーフェッチを防ぎ、複雑なデータ構造を効率的に扱える。",
          "bestFor": "複雑なデータ構造、フロントエンド主導の開発、モバイル帯域の最適化",
          "benchmark": "GitHub、Shopify等が採用。学習コストが高いが、フロントエンドの生産性が向上。"
        },
        {
          "name": "Webhook",
          "color": "#10B981",
          "description": "イベント駆動型の通知メカニズム。SaaS側でイベントが発生した際にHTTP POSTで外部URLに通知。リアルタイム連携の基盤。",
          "bestFor": "リアルタイム通知、イベント駆動連携、ワークフロー自動化",
          "benchmark": "配信成功率99.9%+、リトライ機構必須（指数バックオフ）。"
        },
        {
          "name": "iPaaS連携",
          "color": "#8B5CF6",
          "description": "Zapier、Make（旧Integromat）、Workato等のiPaaSプラットフォーム経由での連携。ノーコードで外部サービスと接続。",
          "bestFor": "非エンジニアユーザー向け連携、標準的な業務自動化",
          "benchmark": "Zapier連携はSaaSのテーブルステークス化。1000+のSaaSが対応。"
        }
      ]
    },
    "security": {
      "title": "セキュリティ認証",
      "description": "SaaSの信頼性を証明するセキュリティ認証。取得難易度、コスト、顧客への訴求効果を比較。",
      "certifications": [
        {
          "name": "SOC 2 Type II",
          "color": "#3B82F6",
          "description": "米国発のセキュリティ監査基準。Trust Service Criteria（セキュリティ、可用性、処理の完全性、機密性、プライバシー）に基づく。SaaS企業のグローバルスタンダード。",
          "difficulty": "高",
          "cost": "500万〜2000万円",
          "duration": "6-12ヶ月",
          "impact": "米国エンタープライズ顧客の必須要件。取得済みが営業の前提条件。"
        },
        {
          "name": "ISO 27001",
          "color": "#8B5CF6",
          "description": "情報セキュリティマネジメントシステム（ISMS）の国際規格。日本・欧州で重視される。PDCAサイクルでセキュリティを継続的に改善。",
          "difficulty": "中〜高",
          "cost": "300万〜1000万円",
          "duration": "6-12ヶ月",
          "impact": "日本の大企業・官公庁向けに必須。SOC2と併用が望ましい。"
        },
        {
          "name": "ISMS（日本）",
          "color": "#10B981",
          "description": "ISO 27001の日本版認証。情報処理推進機構（IPA）が認定。日本国内の取引で信頼性を担保。",
          "difficulty": "中",
          "cost": "200万〜500万円",
          "duration": "3-6ヶ月",
          "impact": "日本市場向けの最低限の認証。中小企業との取引で信頼獲得に有効。"
        },
        {
          "name": "HIPAA",
          "color": "#EF4444",
          "description": "米国の医療情報保護法。Protected Health Information（PHI）を扱うSaaSに必須。違反時の罰金は最大$1.5M/年。",
          "difficulty": "極高",
          "cost": "1000万〜5000万円",
          "duration": "12-18ヶ月",
          "impact": "米国ヘルスケアSaaSの参入障壁。BAA（Business Associate Agreement）の締結が必要。"
        }
      ]
    },
    "infrastructure": {
      "title": "インフラ選択",
      "description": "SaaSのインフラ基盤。3大クラウド（AWS/GCP/Azure）の特徴比較と、SaaSに最適な構成パターン。",
      "providers": [
        {
          "name": "AWS",
          "color": "#FF9900",
          "share": "31%（最大シェア）",
          "strength": "サービス数最多（200+）、エンタープライズ実績、日本リージョン充実（東京・大阪）",
          "bestFor": "大規模SaaS、金融・医療等の規制産業、日本市場向け",
          "saasStack": "ECS/EKS + RDS/Aurora + ElastiCache + CloudFront + Lambda"
        },
        {
          "name": "GCP",
          "color": "#4285F4",
          "share": "11%",
          "strength": "BigQuery/AI・ML基盤が強い、Kubernetes(GKE)の完成度、データ分析に強み",
          "bestFor": "AI/MLを活用するSaaS、データ分析系、スタートアップ",
          "saasStack": "GKE + Cloud SQL + Memorystore + Cloud CDN + Cloud Functions"
        },
        {
          "name": "Azure",
          "color": "#0078D4",
          "share": "25%",
          "strength": "Microsoft 365/Teams連携、Active Directory統合、エンタープライズ顧客の親和性",
          "bestFor": "Microsoft連携が重要なSaaS、エンタープライズ向け、官公庁向け",
          "saasStack": "AKS + Azure SQL + Azure Cache + Azure CDN + Azure Functions"
        }
      ]
    },
    "cicd": {
      "title": "CI/CD & DevOps",
      "description": "SaaS開発のデプロイ頻度とリリースサイクルの業界水準。CI/CDパイプラインの設計とDevOps文化。",
      "benchmarks": [
        { "metric": "デプロイ頻度", "elite": "1日複数回", "high": "週1回〜日1回", "medium": "月1回〜週1回", "low": "月1回未満" },
        { "metric": "リードタイム", "elite": "1時間以内", "high": "1日〜1週間", "medium": "1週間〜1ヶ月", "low": "1ヶ月以上" },
        { "metric": "変更失敗率", "elite": "0-15%", "high": "16-30%", "medium": "16-30%", "low": "46-60%" },
        { "metric": "復旧時間", "elite": "1時間以内", "high": "1日以内", "medium": "1日〜1週間", "low": "1週間以上" }
      ],
      "tools": [
        { "name": "GitHub Actions", "usage": "最も普及。GitHub統合でCI/CDをYAMLで定義。" },
        { "name": "CircleCI", "usage": "高速ビルド。Docker対応。日本のスタートアップで人気。" },
        { "name": "ArgoCD", "usage": "GitOps型CD。Kubernetesのデプロイ管理に特化。" },
        { "name": "Datadog / New Relic", "usage": "APM（Application Performance Monitoring）。SaaSの可観測性の基盤。" }
      ]
    }
  }
}